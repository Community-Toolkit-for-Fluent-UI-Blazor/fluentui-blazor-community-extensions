@namespace FluentUI.Blazor.Community.Components
@typeparam TItem
@inherits FluentComponentBase

@if (Parent?.View == SchedulerView.Week &&
    Parent?.ShowWeekSettings == true)
{
    <FluentButton IconStart="@(new Regular.Size24.CalendarSettings())"
                  Appearance="Appearance.Neutral"
                  Id="@($"week-{Id}")"
                  OnClick="@(() => _openWeekSettings = !_openWeekSettings)">
        @Parent!.Labels.WeekSettings
    </FluentButton>

    <FluentPopover @bind-Open="_openWeekSettings"
                   AnchorId="@($"week-{Id}")">
        <Header>
            @Parent!.Labels.WeekSettings
        </Header>
        <Body>
            <FluentStack Orientation="Orientation.Vertical"
                         VerticalGap="0">
                <FluentNumberField AriaLabel="@Parent!.Labels.NumberOfSubdivisions"
                                   Label="@Parent!.Labels.NumberOfSubdivisions"
                                   Max="60"
                                   Min="1"
                                   Step="1"
                                   @bind-Value=_weekSubdivisions
                                   @bind-Value:after=OnValueChanged
                                   Style="margin-bottom: 10px" />

                <FluentNumberField AriaLabel="@Parent!.Labels.WeekSlotHeight"
                                   Label="@Parent!.Labels.WeekSlotHeight"
                                   Max="120"
                                   Min="40"
                                   Step="1"
                                   @bind-Value=_weekSlotHeight
                                   @bind-Value:after=OnValueChanged />
            </FluentStack>
        </Body>
    </FluentPopover>
}
