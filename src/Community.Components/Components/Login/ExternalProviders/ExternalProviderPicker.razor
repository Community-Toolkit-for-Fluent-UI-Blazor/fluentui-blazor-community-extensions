@namespace FluentUI.Blazor.Community.Components

<FluentStack HorizontalAlignment="HorizontalAlignment.Center"
			 VerticalAlignment="VerticalAlignment.Center">
	@if (_providers is not null)
	{
        <AntiforgeryToken />

		@foreach (var p in _providers)
		{
			<FluentButton IconStart=@(GetIconFrom(p.DisplayName))
                          OnClick="@(() => OnProviderSelectedAsync(p.Name))"
                          Style="border-radius: 10000px"
						  ChildContent="@(ShowText ? _renderTextContent(p.DisplayName) : null)"
						  Title="@GetTextContent(p.DisplayName)"/>
		}
	}
</FluentStack>

@code {
	/// <summary>
	/// Initializes a new instance of the ExternalProviderPicker class with a unique identifier.
	/// </summary>
	public ExternalProviderPicker()
	{
		_renderTextContent = (text) => (__builder) =>
		{
			<FluentLabel>@GetTextContent(text)</FluentLabel>
		};
	}
}
