@namespace FluentUI.Blazor.Community.Components
@inherits FluentComponentBase

<CascadingValue Value="this" IsFixed>
    <div id="@Id" class="@InternalCss" style="@Style">
        @if (Root is not null)
        {
            <FluentCxPathBarItem Id="@Root.Id"
                                 Label="@Root!.Label"
                                 Icon="@(GetHomeIcon())"
                                 ShowLabel="false"
                                 Items=@Root.Items
                                 OnTapped="@(OnPathSelectedAsync)" />

            <div id="@($"fluentcx-path-bar-container-{Id}")" class="fluentcx-path-bar-container">
                    @if (_overflowItems.Count > 0)
                    {
                        <OverflowButton Id="@($"OverflowButton{Id}")"
                                        Items=@_overflowItems />
                    }

                    @foreach (var item in _visibleItems)
                    {
                        <FluentCxPathBarItem Id="@item.Id"
                                             Label=@item.Label
                                             Items="@item.Items"
                                             Icon=@item.Icon
                                             OnTapped="@(() => UpdatePathAsync(item))"/>
                    }
            </div>      
        }
    </div>
</CascadingValue>
